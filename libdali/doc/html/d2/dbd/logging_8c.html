<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libdali: logging.c File Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="../../index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>logging.c File Reference</h1><code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;stdarg.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &quot;<a class="el" href="../../d3/d41/libdali_8h.html">libdali.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for logging.c:</div>
<div class="dynsection">
<p><center><img src="../../de/d5f/logging_8c__incl.png" border="0" usemap="#logging.c_map" alt=""></center>
<map name="logging.c_map">
<area shape="rect" href="../../d3/d41/libdali_8h.html" title="libdali.h" alt="" coords="366,80,435,107"><area shape="rect" href="../../d2/de2/portable_8h.html" title="portable.h" alt="" coords="359,155,442,182"></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#739b8640bab994cc06a568252d99d4c6">dl_loginit_main</a> (<a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *logp, int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the logging system.  <a href="#739b8640bab994cc06a568252d99d4c6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#90e8ff4b06aa33a8637e9d90cb451ea8">dl_log_main</a> (<a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *logp, int level, int verb, va_list *varlist)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Primary log message processing routine.  <a href="#90e8ff4b06aa33a8637e9d90cb451ea8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#37eb5ed80e669d3812a2d1f0e23d8500">dl_loginit</a> (int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize global logging system parameters.  <a href="#37eb5ed80e669d3812a2d1f0e23d8500"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#07eb8959b84a5d8a1c57f646c2ccca00">dl_loginit_r</a> (<a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a> *dlconn, int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize logging parameters specific to a <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a>.  <a href="#07eb8959b84a5d8a1c57f646c2ccca00"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#2fb4b7254d201cac0f9a690660c17966">dl_loginit_rl</a> (<a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *log, int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize logging parameters for a specific <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a>.  <a href="#2fb4b7254d201cac0f9a690660c17966"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#847d1902c12516a8564b617ac6c01ceb">dl_log</a> (int level, int verb,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log a message using the global logging parameters.  <a href="#847d1902c12516a8564b617ac6c01ceb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#9bf6777d90a56649e1635cbcc991a445">dl_log_r</a> (const <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a> *dlconn, int level, int verb,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log a message using the log parameters from a <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a>.  <a href="#9bf6777d90a56649e1635cbcc991a445"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#5d54649ba7ae664f97563b6251b57f19">dl_log_rl</a> (<a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *log, int level, int verb,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Log a message using the log parameters from a <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a>.  <a href="#5d54649ba7ae664f97563b6251b57f19"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dbd/logging_8c.html#d92f0f936737fe1a73fc558f3e4b2d63">gDLLog</a> = {NULL, NULL, NULL, NULL, 0}</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Log handling routines for libdali.<p>
These logging routines are used throughout the library and allow all log, diagnostic and error message output to be redirected or otherwise fine tuned.<p>
The most important routines for general library use are <a class="el" href="../../d3/d41/libdali_8h.html#37eb5ed80e669d3812a2d1f0e23d8500" title="Initialize global logging system parameters.">dl_loginit()</a> and <a class="el" href="../../d3/d41/libdali_8h.html#847d1902c12516a8564b617ac6c01ceb" title="Log a message using the global logging parameters.">dl_log()</a>.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Chad Trabant, IRIS Data Management Center</dd></dl>
modified: 2008.193 <hr><h2>Function Documentation</h2>
<a class="anchor" name="847d1902c12516a8564b617ac6c01ceb"></a><!-- doxytag: member="logging.c::dl_log" ref="847d1902c12516a8564b617ac6c01ceb" args="(int level, int verb,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dl_log           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Log a message using the global logging parameters. 
<p>
A wrapper to <a class="el" href="../../d2/dbd/logging_8c.html#90e8ff4b06aa33a8637e9d90cb451ea8" title="Primary log message processing routine.">dl_log_main()</a> that uses the global logging parameters.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>Level at which to log the message (1, 2 or 3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verb</em>&nbsp;</td><td>Verbosity threshold at which to log the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>Message format and optional arguments in printf style</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>See <a class="el" href="../../d2/dbd/logging_8c.html#90e8ff4b06aa33a8637e9d90cb451ea8" title="Primary log message processing routine.">dl_log_main()</a> description for return values. </dd></dl>

</div>
</div><p>
<a class="anchor" name="90e8ff4b06aa33a8637e9d90cb451ea8"></a><!-- doxytag: member="logging.c::dl_log_main" ref="90e8ff4b06aa33a8637e9d90cb451ea8" args="(DLLog *logp, int level, int verb, va_list *varlist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dl_log_main           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *&nbsp;</td>
          <td class="paramname"> <em>logp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list *&nbsp;</td>
          <td class="paramname"> <em>varlist</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Primary log message processing routine. 
<p>
Prinmary logging/printing routine.<p>
This routine acts as a central message facility for the all of the libdali functions.<p>
The function uses logging parameters specified in the supplied <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a>.<p>
This function expects 3+ arguments, message level, verbosity level, fprintf format, and fprintf arguments. If the verbosity level is less than or equal to the set verbosity (see <a class="el" href="../../d2/dbd/logging_8c.html#739b8640bab994cc06a568252d99d4c6" title="Initialize the logging system.">dl_loginit_main()</a>), the fprintf format and arguments will be printed at the appropriate level.<p>
Three levels are recognized: 0 : Normal log messages, printed using log_print with logprefix 1 : Diagnostic messages, printed using diag_print with logprefix 2+ : Error messagess, printed using diag_print with errprefix<p>
This function builds the log/error message and passes to it as a string (char *) to the functions defined with <a class="el" href="../../d3/d41/libdali_8h.html#37eb5ed80e669d3812a2d1f0e23d8500" title="Initialize global logging system parameters.">dl_loginit()</a> or <a class="el" href="../../d3/d41/libdali_8h.html#07eb8959b84a5d8a1c57f646c2ccca00" title="Initialize logging parameters specific to a DLCP.">dl_loginit_r()</a>. If the log/error printing functions have not been defined messages will be printed with fprintf, log messages to stdout and error messages to stderr.<p>
If the log/error prefix's have been set with <a class="el" href="../../d3/d41/libdali_8h.html#37eb5ed80e669d3812a2d1f0e23d8500" title="Initialize global logging system parameters.">dl_loginit()</a> or <a class="el" href="../../d3/d41/libdali_8h.html#07eb8959b84a5d8a1c57f646c2ccca00" title="Initialize logging parameters specific to a DLCP.">dl_loginit_r()</a> they will be pre-pended to the message.<p>
All messages will be truncated to the MAX_LOG_MSG_LENGTH, this includes any set prefix.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>logp</em>&nbsp;</td><td><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> logging paramters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>Level at which to log the message (1, 2 or 3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verb</em>&nbsp;</td><td>Verbosity threshold at which to log the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>varlist</em>&nbsp;</td><td>Message format and optional arguments in printf style</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of characters formatted on success, and a a negative value on error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="9bf6777d90a56649e1635cbcc991a445"></a><!-- doxytag: member="logging.c::dl_log_r" ref="9bf6777d90a56649e1635cbcc991a445" args="(const DLCP *dlconn, int level, int verb,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dl_log_r           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a> *&nbsp;</td>
          <td class="paramname"> <em>dlconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Log a message using the log parameters from a <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a>. 
<p>
A wrapper to <a class="el" href="../../d2/dbd/logging_8c.html#90e8ff4b06aa33a8637e9d90cb451ea8" title="Primary log message processing routine.">dl_log_main()</a> that uses the logging parameters in a supplied <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a>. If the supplied pointer is NULL the global logging parameters will be used.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dlconn</em>&nbsp;</td><td>DataLink Connection Parameters with associated logging paramters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>Level at which to log the message (1, 2 or 3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verb</em>&nbsp;</td><td>Verbosity threshold at which to log the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>Message format and optional arguments in printf style</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>See <a class="el" href="../../d2/dbd/logging_8c.html#90e8ff4b06aa33a8637e9d90cb451ea8" title="Primary log message processing routine.">dl_log_main()</a> description for return values. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5d54649ba7ae664f97563b6251b57f19"></a><!-- doxytag: member="logging.c::dl_log_rl" ref="5d54649ba7ae664f97563b6251b57f19" args="(DLLog *log, int level, int verb,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dl_log_rl           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *&nbsp;</td>
          <td class="paramname"> <em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Log a message using the log parameters from a <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a>. 
<p>
A wrapper to <a class="el" href="../../d2/dbd/logging_8c.html#90e8ff4b06aa33a8637e9d90cb451ea8" title="Primary log message processing routine.">dl_log_main()</a> that uses the logging parameters in a supplied <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a>. If the supplied pointer is NULL the global logging parameters will be used.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>log</em>&nbsp;</td><td><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> logging paramters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>Level at which to log the message (1, 2 or 3) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verb</em>&nbsp;</td><td>Verbosity threshold at which to log the message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>...</em>&nbsp;</td><td>Message format and optional arguments in printf style</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>See <a class="el" href="../../d2/dbd/logging_8c.html#90e8ff4b06aa33a8637e9d90cb451ea8" title="Primary log message processing routine.">dl_log_main()</a> description for return values. </dd></dl>

</div>
</div><p>
<a class="anchor" name="37eb5ed80e669d3812a2d1f0e23d8500"></a><!-- doxytag: member="logging.c::dl_loginit" ref="37eb5ed80e669d3812a2d1f0e23d8500" args="(int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dl_loginit           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verbosity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>log_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logprefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>diag_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>errprefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize global logging system parameters. 
<p>
Initialize the global logging parameters.<p>
See <a class="el" href="../../d2/dbd/logging_8c.html#739b8640bab994cc06a568252d99d4c6" title="Initialize the logging system.">dl_loginit_main()</a> description for usage. 
</div>
</div><p>
<a class="anchor" name="739b8640bab994cc06a568252d99d4c6"></a><!-- doxytag: member="logging.c::dl_loginit_main" ref="739b8640bab994cc06a568252d99d4c6" args="(DLLog *logp, int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dl_loginit_main           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *&nbsp;</td>
          <td class="paramname"> <em>logp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verbosity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>log_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logprefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>diag_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>errprefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the logging system. 
<p>
Initialize the logging subsystem. The logging paramters determine how <a class="el" href="../../d3/d41/libdali_8h.html#847d1902c12516a8564b617ac6c01ceb" title="Log a message using the global logging parameters.">dl_log()</a> and <a class="el" href="../../d3/d41/libdali_8h.html#9bf6777d90a56649e1635cbcc991a445" title="Log a message using the log parameters from a DLCP.">dl_log_r()</a> emit messages.<p>
This function modifies the logging parameters in the passed <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a>.<p>
Any log/error printing functions indicated must accept a single argument, namely a string (char *). The <a class="el" href="../../d3/d41/libdali_8h.html#847d1902c12516a8564b617ac6c01ceb" title="Log a message using the global logging parameters.">dl_log()</a> and <a class="el" href="../../d3/d41/libdali_8h.html#9bf6777d90a56649e1635cbcc991a445" title="Log a message using the log parameters from a DLCP.">dl_log_r()</a> functions format each message and then pass the result on to the log/error printing functions.<p>
If the log/error prefixes have been set they will be pre-pended to the message.<p>
Use NULL for the function pointers or the prefixes if they should not be changed from previously set or default values. The default behavior of the logging subsystem is given in the example below.<p>
Example: dl_loginit_main (0, (void*)&amp;printf, NULL, (void*)&amp;printf, "error: ");<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>logp</em>&nbsp;</td><td>The <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> parameters to change </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbosity</em>&nbsp;</td><td>The verbosity level </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>log_print</em>&nbsp;</td><td>Pointer to a log message printing function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>logprefix</em>&nbsp;</td><td>Prefix to add to each log &amp; diganostic message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>diag_print</em>&nbsp;</td><td>Pointer to a diagnostic &amp; error message printing function </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>errprefix</em>&nbsp;</td><td>Prefix to add to each error message </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="07eb8959b84a5d8a1c57f646c2ccca00"></a><!-- doxytag: member="logging.c::dl_loginit_r" ref="07eb8959b84a5d8a1c57f646c2ccca00" args="(DLCP *dlconn, int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dl_loginit_r           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a> *&nbsp;</td>
          <td class="paramname"> <em>dlconn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verbosity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>log_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logprefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>diag_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>errprefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize logging parameters specific to a <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a>. 
<p>
Initialize <a class="el" href="../../d9/d9a/struct_d_l_c_p.html">DLCP</a> specific logging parameters. If the logging parameters have not been initialized (dlconn-&gt;log == NULL) new parameter space will be allocated.<p>
See <a class="el" href="../../d2/dbd/logging_8c.html#739b8640bab994cc06a568252d99d4c6" title="Initialize the logging system.">dl_loginit_main()</a> description for usage. 
</div>
</div><p>
<a class="anchor" name="2fb4b7254d201cac0f9a690660c17966"></a><!-- doxytag: member="logging.c::dl_loginit_rl" ref="2fb4b7254d201cac0f9a690660c17966" args="(DLLog *log, int verbosity, void(*log_print)(char *), const char *logprefix, void(*diag_print)(char *), const char *errprefix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a>* dl_loginit_rl           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> *&nbsp;</td>
          <td class="paramname"> <em>log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>verbosity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>log_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>logprefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(char *)&nbsp;</td>
          <td class="paramname"> <em>diag_print</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>errprefix</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize logging parameters for a specific <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a>. 
<p>
Initialize <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> specific logging parameters. If the logging parameters have not been initialized (log == NULL) new parameter space will be allocated.<p>
See <a class="el" href="../../d2/dbd/logging_8c.html#739b8640bab994cc06a568252d99d4c6" title="Initialize the logging system.">dl_loginit_main()</a> description for usage.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the created/re-initialized <a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> struct. </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="d92f0f936737fe1a73fc558f3e4b2d63"></a><!-- doxytag: member="logging.c::gDLLog" ref="d92f0f936737fe1a73fc558f3e4b2d63" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dd8/struct_d_l_log.html">DLLog</a> <a class="el" href="../../d2/dbd/logging_8c.html#d92f0f936737fe1a73fc558f3e4b2d63">gDLLog</a> = {NULL, NULL, NULL, NULL, 0}          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initial global logging parameters 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Sep 12 15:15:08 2008 for libdali by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
